execute store result score @s buggy_speed run data get entity @s SelectedItemSlot

execute as @e[type=armor_stand,tag=moon_buggy,limit=1,sort=nearest] at @s if score @s fuel_percentage matches 50.. run title @p actionbar ["",{"translate":"exp_screentxt_position_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"exp_x"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_y"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_z"}},{"text":"\u25b6     "},{"translate":"exp_screentxt_speed_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"buggy_speed"}},{"text":"/8\u25b6     "},{"translate":"exp_screentxt_fuel_actionbar"},{"text":"\u25c0","color":"green"},{"score":{"name":"@s","objective":"fuel_percentage"},"color":"green"},{"text":"%\u25b6","color":"green"},{"text":" "}]
execute as @e[type=armor_stand,tag=moon_buggy,limit=1,sort=nearest] at @s if score @s fuel_percentage matches 10..50 run title @p actionbar ["",{"translate":"exp_screentxt_position_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"exp_x"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_y"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_z"}},{"text":"\u25b6     "},{"translate":"exp_screentxt_speed_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"buggy_speed"}},{"text":"/8\u25b6     "},{"translate":"exp_screentxt_fuel_actionbar"},{"text":"\u25c0","color":"gold"},{"score":{"name":"@s","objective":"fuel_percentage"},"color":"gold"},{"text":"%\u25b6","color":"gold"},{"text":" "}]
execute as @e[type=armor_stand,tag=moon_buggy,limit=1,sort=nearest] at @s if score @s fuel_percentage matches ..10 run title @p actionbar ["",{"translate":"exp_screentxt_position_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"exp_x"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_y"}},{"text":"\u25b6 \u25c0"},{"score":{"name":"@p","objective":"exp_z"}},{"text":"\u25b6     "},{"translate":"exp_screentxt_speed_actionbar"},{"text":"\u25c0"},{"score":{"name":"@p","objective":"buggy_speed"}},{"text":"/8\u25b6     "},{"translate":"exp_screentxt_fuel_actionbar"},{"text":"\u25c0","color":"dark_red"},{"score":{"name":"@s","objective":"fuel_percentage"},"color":"dark_red"},{"text":"%\u25b6","color":"dark_red"},{"text":" "}]

execute as @e[type=armor_stand,tag=moon_buggy,limit=1,sort=nearest] run function expansion:handy_tools/fuel_percentage

execute if entity @s[scores={buggy_speed=1..}] as @e[type=armor_stand,tag=moon_buggy,limit=1,sort=nearest] if score @s fuel_level matches 1.. at @s run function expansion:vehicles/buggy/propulsion/propulsion

execute as @e[type=armor_stand,tag=moon_buggy,distance=..3,limit=1,sort=nearest] at @s if block ~ ~ ~ #expansion:expansion_liquid run function expansion:vehicles/buggy/liquid_interaction

